<!DOCTYPE html>
<html>
    <head>
    
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Welcoming Acrylamid</title>
        
            <link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
        
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="/img/logo.png"/>
        
            
            <link href="http://groovematic.com/feed.xml" rel="alternate" type="application/atom+xml" title="Groovematic" />
        
        <link media="all" href="/css/main.css" rel="stylesheet" />
    
        <meta name="description" content="## A Short Story: An Introduction

Recently, i swi..." />
        <meta name="keywords" content="" />
    </head>
    <body>
        <section class="site-nav">
    <header>
        <nav id="navigation">
            
            
                <a href="/">Blog</a>
            
                <a href="https://github.com/iromli">Projects</a>
            
                <a href="https://speakerdeck.com/iromli">Talks</a>
            
                <a href="/about/">About</a>
            
        </nav>

        
        <nav class="tagline">
            <span>A moo-saa-fir and his undercover mission</span>
            
                <a href="/" class="btn btn-outline">Groovematic</a>
            
        </nav>
        
    </header>
</section>
    

    <article>
        
        <div class="container">
            <header>
                <div class="meta">
                    By <address><span rel="author" title="Isman Firmansyah">Isman Firmansyah</span> &mdash;
                    <time pubdate datetime="2013-23-January" title="January 23, 2013">January 23, 2013</time>
                </div>
                <h1 class="title">Welcoming Acrylamid</h1>
                
            </header>

            <section>
                <h3>A Short Story: An In&shy;tro&shy;duc&shy;tion</h3>
<p>Recently, i switched to <a href="http://posativ.org/acrylamid/">Acrylamid</a> as my website generator.
So, what is Acrylamid anyway? Quoted from its GitHub project page:</p>
<blockquote>
<p>Acrylamid is a mixture of nanoc, Pyblosxom and Pelican licensed under BSD Style, 2 clauses.</p>
</blockquote>
<p>Except <a href="http://pyblosxom.bluesock.org/">Pyblosxom</a>, i've tried <a href="http://nanoc.stoneship.org/">nanoc</a> and <a href="http://getpelican.com/">Pelican</a>.
Both are cool projects, but in the end i chose nanoc over Pelican. Despite of being a Ruby-based, nanoc gave me all i want -- the flex&shy;i&shy;bil&shy;i&shy;ty.
Then the problem came up. Whenever i need to customize the library, i cringed for knowing that my Ruby knowledge is horrible.</p>
<p>During my journey to find a nanoc-like Python-based static website generator, i rant about it on Twitter.
Sur&shy;pris&shy;ing&shy;ly, the core developer of nanoc gave his reaction.</p>
<p><img alt="me and dennis having a talk" class="thumbnail" src="/img/2013/01/nanoc-convo.png"/></p>
<p>As you could see, i was using <a href="https://github.com/Anomareh/mynt">Mynth</a> before i found Acrylamid. Anyway, here's my reaction after reading Acry&shy;lamid's <code>README.rst</code>:</p>
<p><img alt="first impression" class="thumbnail" src="/img/2013/01/i-found-acrylamid.png"/></p>
<p>Well, that's true. Acrylamid is promising. Moreover, it's built on top of Python, i feel confident to use it whatever i want. I also made <a href="https://github.com/posativ/acrylamid/pull/97">my first con&shy;tri&shy;bu&shy;tion</a> recently.</p>
<h3>Another Story: The Gotchas</h3>
<blockquote>
<p>There is always first time for everything.</p>
</blockquote>
<p>I use LESS alot, so i gave a try on how to integrate LESS and Acrylamid.
For&shy;tu&shy;nate&shy;ly, Acrylamid does have <code>LESS</code> static filter.
But the thing is, i have 2 LESS files, <code>a.less</code> and <code>b.less</code> under <code>theme/less</code> directory.</p>
<div class="highlight"><pre><span class="c">/* === a.less === */</span>
<span class="k">@size</span><span class="o">:</span> <span class="nt">10px</span><span class="p">;</span>
<span class="nc">.floatleft</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="o">@</span><span class="k">size</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* === b.less === */</span>
<span class="k">@size</span><span class="o">:</span> <span class="nt">10px</span><span class="p">;</span>
<span class="nc">.floatright</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">right</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="o">@</span><span class="k">size</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>It was working fine when i invoked <code>acrylamid autocompile</code>, but things were going insane when i was trying to re-use variable.</p>
<div class="highlight"><pre><span class="c">/* === a.less === */</span>
<span class="k">@import</span> <span class="s2">&quot;b&quot;</span><span class="p">;</span>
<span class="k">@size</span><span class="o">:</span> <span class="nt">10px</span><span class="p">;</span>
<span class="nc">.floatleft</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="o">@</span><span class="k">size</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* === b.less === */</span>
<span class="nc">.floatright</span> <span class="p">{</span>
    <span class="k">float</span><span class="o">:</span> <span class="k">right</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="o">@</span><span class="k">size</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Yeah, LESS was angry!
This happened because Acrylamid parses each file in separate process.
That's why when <code>b.less</code> is parsed, the <code>lessc</code> executable will complain about missing <code>@size</code> variable.</p>
<p>I was scratching my head then, until i found <a href="https://github.com/markvl/www.vlent.nl">an example</a>.
It uses SASS, but the concept of compiling the assets is similar to my case.
So i just moved all <code>.less</code> files out from <code>theme</code> to <code>less</code> directory.
Afterwards, since LESS doesn't have a watcher, i use <a href="https://github.com/gorakhargosh/watchdog">Watchdog</a> to monitor the changes.</p>
<div class="highlight"><pre>watchmedo shell-command <span class="se">\</span>
    --patterns<span class="o">=</span><span class="s2">&quot;*.less&quot;</span> <span class="se">\</span>
    --recursive <span class="se">\</span>
    --command<span class="o">=</span><span class="s2">&quot;lessc -x $PWD/less/a.less &gt; $PWD/theme/css/b.css&quot;</span> <span class="se">\</span>
    <span class="nv">$PWD</span>
</pre></div>


<p>Each time any <code>.less</code> is modified, <code>watchmedo</code> invokes <code>lessc</code> and compiles the file into CSS.
Acrylamid will recognize the changes there.
Voila, everything is worked as i expected.</p>
<h3>The Conclusion</h3>
<p>Acrylamid is cool and flexible enough. I don't have more words to say, just Try It and See.</p>
                
                    <div class="social">
                        <div>
                            <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Welcoming Acrylamid" data-related="iromli">Tweet</a>
                        </div>
                        

                        

                        
                        <div>
                            <div class="g-plusone" data-size="medium"></div>
                        </div>
                        
                    </div>
                
            </section>

            <footer>
                <address>
                    <img src="/img/authors/iromli.jpeg">
                    Written by <strong><a rel="author" href="/" title="Isman Firmansyah">Isman Firmansyah</a></strong><br>
                    <span class="muted"></span>
                    
                        <div class="follow">
                            <a href="https://twitter.com/iromli" class="twitter-follow-button" data-show-count="false" data-dnt="true">Follow @</a>
                            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                        </div>
                    
                </address>
            </footer>
        </div>
    </article>
<footer class="site-footer">
    <div class="container">
        &copy; 2014

        
            <nav>
            
                <a href="/">Blog</a> &middot;
            
                <a href="https://github.com/iromli">Projects</a> &middot;
            
                <a href="https://speakerdeck.com/iromli">Talks</a> &middot;
            
                <a href="/about/">About</a> 
            
            </nav>
        

        <nav class="social">
            
            <a href="https://twitter.com/iromli" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
                
                <a href="/feed.xml" title="Atom Feed">
                    <i class="icon icon-rss black"></i>
                </a>
            
        </nav>
        
            <p><em><a href='https://github.com/iromli/groovematic/'>Use the source, Luke!</a></em></p>
        
    </div>
</footer>
        
    
            <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        
    
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'groovematic'; // required: replace example with your forum shortname
            if (window.location.hostname != 'localhost') {
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());
            }
        </script>
    
    
    <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>





    <script type="text/javascript">
        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/plusone.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>


    </body>
</html>