<!DOCTYPE html>
<html>
    <head>
    
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Python: When The Two Become One</title>
        
            <link href="//fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
        
        <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="/img/logo.png"/>
        
            
            <link href="http://groovematic.com/feed.xml" rel="alternate" type="application/atom+xml" title="Groovematic" />
        
        <link media="all" href="/css/main.css" rel="stylesheet" />
    
        <meta name="description" content="## The Gap Between 2 Python Worlds

Most of the ti..." />
        <meta name="keywords" content="" />
    </head>
    <body>
        <section class="site-nav">
    <header>
        <nav id="navigation">
            
            
                <a href="/">Blog</a>
            
                <a href="/projects/">Projects</a>
            
                <a href="/talks/">Talks</a>
            
                <a href="/about/">About</a>
            
        </nav>

        
        <nav class="tagline">
            <span>A moo-saa-fir and his undercover mission</span>
            
                <a href="/" class="btn btn-outline">Groovematic</a>
            
        </nav>
        
    </header>
</section>
    

    <article>
        
        <div class="container">
            <header>
                <div class="meta">
                    By <address><span rel="author" title="Isman Firmansyah">Isman Firmansyah</span> &mdash;
                    <time pubdate datetime="2014-09-August" title="August 09, 2014">August 09, 2014</time>
                </div>
                <h1 class="title">Python: When The Two Become One</h1>
                
            </header>

            <section>
                <h3>The Gap Between 2 Python Worlds</h3>
<p>Most of the time, any newcomer to Python pro&shy;gram&shy;ming language probably will ask should they learn Python 2 or 3.
Python core developers — most of the time — will lead the newcomers to enter into Python 3 world.
On the other hand, a few of Python heroes who rant about several things in Python 3,
likely will tell newcomers to stick with Python 2 for now, until the transition process is smoother.</p>
<p>From my point of view, I truly agree on how we should moving forward.
Despite of Python 2 is still alive and kickin', the current de&shy;vel&shy;op&shy;ment is heavily-geared toward Python 3,
because it's the future!</p>
<p>Un&shy;for&shy;tu&shy;nate&shy;ly, reality bites for sure. There are many reasons why people still working on Python 2 codebase:</p>
<ul>
<li>Unable to find a re&shy;place&shy;ment for third-party library that doesn't have Python 3 support yet.</li>
<li>Huge/complex legacy codebase — rewriting the code to use Python 3 is too risky for the business.</li>
<li>Worrying too much about changes made in Python 3.</li>
<li>And so on ...</li>
</ul>
<p>Now, as a pragmatic developer, I know the feeling of having those unpleasant moments.
But as a person who loves Python, I want to see this language evolves.
Let's not making war about Python 2 vs 3 anymore. Let's us minimize the gap instead,
by starting to learn how to love Python 3 while still working on Python 2 codebase.</p>
<p>Fair enough?</p>
<h3>One Codebase to Rule 'em All!</h3>
<p>I've started to write code that supports both Python 2 and 3 since 6 months ago,
so when Python 3 is the only Python that lives in real-world,
the transition to use the new codebase is smoother (hopefully).
Hence the rest of this blog post is simply opin&shy;ion&shy;at&shy;ed based on my experience.</p>
<h4>1 - Checks for New/Changed/Removed Stuff</h4>
<p>Python 3 introduces new stuff, removes old stuff, and changes several import names.
I would suggest to read <a href="https://docs.python.org/3/whatsnew/3.0.html">What's New in Python 3</a> page and <a href="http://python-notes.curiousefficiency.org/en/latest/python3/index.html">Nick Coghlan's Python 3 Notes</a> first.</p>
<h4>2 - Checks for De&shy;pen&shy;den&shy;cies</h4>
<p>As I've mentioned before, third-party library might blocked our transition to Python 3 codebase.
Luckily, there's a neat tool called <a href="https://caniusepython3.com">ca&shy;niusepython3</a>.
It checks whether third-party de&shy;pen&shy;den&shy;cies required by our code block the transition,
but beware of their false alarm.
If we see a warning about un&shy;sup&shy;port&shy;ed library, please double check by trying the library and see how it goes.</p>
<h4>3 - Use Com&shy;pat&shy;i&shy;bil&shy;i&shy;ty Helper</h4>
<p>Com&shy;pat&shy;i&shy;bil&shy;i&shy;ty helper is code that ensures our code runs in Python 2 and 3.
Don't worry about this, the author of third-party library we're using in our code
might have write it down for us.
If it's not, we can use general-purpose helper e.g. <a href="https://pythonhosted.org/six/">six</a> or <a href="http://python-future.org/">python-future</a>.</p>
<h4>4 - Automated Testcases</h4>
<p>I'm not a testcases fanboy/purist, but sometime writing automated testcases will help us speedup the de&shy;vel&shy;op&shy;ment,
remove tedious steps, and so on.
Spend our time to write testcases, please.
Tools like unittest, <a href="http://pytest.org/">pytest</a>, and <a href="https://nose.readthedocs.org/">nose</a> will save our day; choose whatever fits our taste.</p>
<h4>5 - Python En&shy;vi&shy;ron&shy;ment Management</h4>
<p>Since we're writing code that suppose to run in Python 2 and 3 — which require their own en&shy;vi&shy;ron&shy;ments,
automating test en&shy;vi&shy;ron&shy;ment management is important.
Well, <a href="https://testrun.org/tox/">tox</a> and <a href="https://github.com/yyuu/pyenv">pyenv</a> is a neat com&shy;bi&shy;na&shy;tion we can rely on.</p>
<h3>When The Two Become One</h3>
<p>Learning how to love Python 3 while dealing with Python 2 codebase is not that simple.
It's easier said than done, but practice makes perfect isn't it?</p>
<p>Let ask ourselves, when Python 3 completely deprecates Python 2 in real-world,
how much time we would have to spend to learn the new stuff?
Why don't we start from now?</p>
<p>If I don't convince you enough, perhaps <a href="http://www.youtube.com/watch?v=skYBOXE02OQ">Kenneth Reitz's talk</a> will move you on?</p>
                
                    <div class="social">
                        <div>
                            <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Python: When The Two Become One" data-related="iromli">Tweet</a>
                        </div>
                        

                        

                        
                        <div>
                            <div class="g-plusone" data-size="medium"></div>
                        </div>
                        
                    </div>
                
            </section>

            <footer>
                <address>
                    <img src="/img/authors/iromli.jpeg">
                    Written by <strong><a rel="author" href="/" title="Isman Firmansyah">Isman Firmansyah</a></strong><br>
                    <span class="muted"></span>
                    
                        <div class="follow">
                            <a href="https://twitter.com/iromli" class="twitter-follow-button" data-show-count="false" data-dnt="true">Follow @</a>
                            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                        </div>
                    
                </address>
            </footer>
            
        </div>
    </article>
<footer class="site-footer">
    <div class="container">
        &copy; 2015

        
            <nav>
            
                <a href="/">Blog</a> &middot;
            
                <a href="/projects/">Projects</a> &middot;
            
                <a href="/talks/">Talks</a> &middot;
            
                <a href="/about/">About</a> 
            
            </nav>
        

        <nav class="social">
            
            <a href="https://twitter.com/iromli" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
                
                <a href="/feed.xml" title="Atom Feed">
                    <i class="icon icon-rss black"></i>
                </a>
            
        </nav>
        
            <p><em><a href='https://github.com/iromli/groovematic'>Use the source, Luke!</a></em></p>
        
    </div>
</footer>
        
    
            <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        
    
    
    <script>
        !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>





    <script type="text/javascript">
        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/plusone.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>


    </body>
</html>